---
layout: mypost
title: 思科网络-4
categories: [网络安全]
---

1. ARP(Address resolution protocol)地址解析协议
   1. A 广播 局域网内所有机器，通过目标机器的IP地址，查询目标机器的MAC地址；IP-》MAC
2. RARP(Reverse Address Resolution Protocol)反向地址解析协议
   1. 从ARP表或者缓存上请求其IP地址；MAC->IP
3. 命令：arp -a ，查看系统arp缓存
4. 命令：tracert destIp，查看到达目标IP经过的路由器

### 主机到主机的报文传送过程
1. 应用层发起请求，询问与目标机器如何建立可靠的连接
2. 传输层回复使用TCP协议
3. 网络层发送目标IP地址
4. 数据链路层收到前一步的IP地址，但是又不识别IP，所以需要使用ARP协议
   1. 存在：先在本机ARP表查询
   2. 不存在：将帧中的目标MAC地址替换为Broadcast(广播)MAC地址，源地址替换为原MAC地址
5. 此时目标地址收到一个帧，学习到了源机器的IP和MAC地址，回复源机器请求，将本机的IP和MAC地址发送给源机器
6. 此时双方已经持有了对方的IP和MAC地址，开始三次握手过程，后续传输层通知应用会话建立成功，应用层传输数据


### 局域网（LAN）的组件
1. 计算机
   1. 个人计算机
   2. 服务器
2. 互联介质
   1. 网卡（NIC）
   2. 介质（Media）
3. 网络设备
   1. 集线器（HUB）
   2. 交换机（Switch）
   3. 路由器（Router）
4. 协议
   1. 以太网（Ethernet）
      1. 帧结构
         * 前导码（8） + 目标地址（6） + 源地址（6） + 类型（2） + 数据（46-1500） + FCS（帧校验序列，4）
      2. IEEE802.3
         * 前导码（7） + SOF（帧首定界符，1） + 目标地址（6） + 源地址（6） + 长度（2） + 数据（802.2头部+数据，46-1500） + FCS（帧校验序列，4）
   2. 网际协议（IP）
   3. 地址解析协议（ARP）
   4. 动态主机配置协议（DHCP）
5. 载波侦听多路访问、冲突检测（CSMA、CD）
   1. 保证同一时刻，只有一个节点能够在冲突域内传输数据


### 局域网（LAN）通讯方式
1. 单播
   1. 1台电脑收到数据
2. 广播
   1. 所有数据收到数据
   2. 集线器：放在互联网的出口地址，网络管理员安装终端捕捉程序，即可获取局域网内所有的网络数据
3. 组播
   1. 指定部分电脑收到数据

### MAC地址结构
1. Broadcast(1) + local(1) + oui(国际组织，22) + 厂商分配（版本等信息，24）
   
### 泛洪、广播
1. MAC地址表：源机器MAC地址与以太网交换机的的映射关系，指出了帧去往的目的方向
2. 泛洪：源主机在MAC地址表中找不到目标主机的MAC地址，被动的广播了一次除了源主机端口的数据帧
3. 广播帧：不可避免，比如开启了DHCP服务器，每次请求都会‘fff-fff-fff’帧格式出现，并转发给所有端口，如果局域网内大量这种帧数据，外在表现为网速变慢

### 
1. 网卡（局域网适配器）：安装在计算机主板上，提供连接到网络的接口
2. MAC地址由厂商烧录在每块网卡zho，它提供唯一的物理地址，使得设备能够连接到网络中
3. 以太网的线缆和连接器等标准在EIA/TIA标准中制定
4. 以太网的线缆通常采用EIA/TIA-568A或B的标准
   1. 网线连接规则
   2. 交叉线：相同设备
   3. 直连线：不同设备



{{ page.date | date_to_string }}